<div class="login-overlay">
  <div class="login-card">
    <button class="close-btn" type="button" (click)="close()" aria-label="Close">
      &times;
    </button>
    <div class="logo-corner">
      <app-icon></app-icon>
    </div>
    <h2 class="text-center">Chat Login</h2>
    <div class="flex justify-end mb-2">
      <button type="button" class="group-list-btn" (click)="showGroupList = true" title="Show public groups">
        <svg class="w-5 h-5 inline-block mr-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M17 20h5v-2a4 4 0 0 0-3-3.87M9 20H4v-2a4 4 0 0 1 3-3.87m9-4.13a4 4 0 1 0-8 0 4 4 0 0 0 8 0zm6 4v2a4 4 0 0 1-3 3.87M3 16v2a4 4 0 0 0 3 3.87" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Public Groups
      </button>
    </div>
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <div class="mb-4 group-row">
        <label for="groupName" class="block text-sm font-medium mb-1">Group</label>
        <div class="group-inputs">
          <input id="groupName" formControlName="groupName" type="text" placeholder="Group name" class="group-name-input" />
          <span class="hashtag">#</span>
          <input id="groupId" formControlName="groupId" type="number" placeholder="ID" class="group-id-input no-spinner" min="0" />
        </div>
      </div>
      <div class="mb-4">
        <label for="password" class="block text-sm font-medium mb-1">Password</label>
        <input id="password" formControlName="password" type="password" class="w-full px-3 py-2 border rounded-md custom-input" />
      </div>
      <button type="submit" class="w-full py-2 custom-gradient-btn">Login</button>
    </form>
    <div *ngIf="errorMessage" class="text-center error-message mt-4 font-medium">
      {{ errorMessage }}
    </div>
    <app-chat-login-popup-group-list
      *ngIf="showGroupList"
      (selectGroup)="onSelectGroup($event)"
      (close)="showGroupList = false"
    ></app-chat-login-popup-group-list>
  </div>
</div>
