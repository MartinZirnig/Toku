
<div>
    <div class="w-full max-w-2xl mx-auto flex items-center gap-2 bg-white/10 backdrop-blur-lg rounded-full shadow-lg p-2">
        <!-- Pin Button -->
        <button id="pin-button" class="rounded-full p-3 flex items-center justify-center transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8v.01M4 16v.01M4 12v.01M8 4h.01M16 4h.01M12 4h.01M20 12v.01M20 8v.01M20 16v.01M16 20h.01M8 20h.01M12 20h.01M12 16l-4-4 4-4" />
            </svg>
        </button>

        <!-- Textarea s Custom Scrollbarem -->
        <div class="custom-scrollbar-container flex-1 w-3/4">
            <textarea 
                id="chat-textarea" 
                placeholder="Napište zprávu..." 
                class="w-full min-h-[4rem] max-h-48 outline-none px-4 py-2 rounded-full bg-gray-800 text-white placeholder-gray-400 resize-none whitespace-normal break-words"
            ></textarea>
            <!-- Vlastní scrollbar -->
            <div class="custom-scrollbar-track">
                <div id="custom-scrollbar-thumb" class="custom-scrollbar-thumb"></div>
            </div>
        </div>

        <!-- Send Button -->
        <button id="send-button" class="rounded-full p-3 flex items-center justify-center transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
            </svg>
        </button>
    </div>
</div>
<script>
    // JavaScript pro funkční custom scrollbar
    const textarea = document.getElementById("chat-textarea");
    const scrollThumb = document.getElementById("custom-scrollbar-thumb");
    const scrollTrack = document.querySelector(".custom-scrollbar-track");
    const scrollContainer = document.querySelector(".custom-scrollbar-container");

    // Kontrola, zda je potřeba posouvat
    function checkScrollability() {
        if (textarea.scrollHeight > textarea.clientHeight) {
            scrollContainer.classList.add("scrollable"); /* Zobrazit scrollbar */
        } else {
            scrollContainer.classList.remove("scrollable"); /* Skrýt scrollbar */
        }
    }

    // Nastavení pozice thumbu
    function updateScrollThumbPosition() {
        const scrollTop = textarea.scrollTop;
        const scrollHeight = textarea.scrollHeight;
        const clientHeight = textarea.clientHeight;
        const thumbPosition = (scrollTop / scrollHeight) * (clientHeight - scrollThumb.offsetHeight);
        scrollThumb.style.transform = `translateY(${thumbPosition}px)`;
    }

    // Posouvání textarey při přetažení thumbu
    let isDragging = false;

    scrollThumb.addEventListener("mousedown", (e) => {
        isDragging = true;
        document.addEventListener("mousemove", handleMouseMove);
        document.addEventListener("mouseup", () => {
            isDragging = false;
            document.removeEventListener("mousemove", handleMouseMove);
        });
    });

    function handleMouseMove(e) {
        if (!isDragging) return;

        const trackRect = scrollTrack.getBoundingClientRect();
        const thumbOffset = e.clientY - trackRect.top - scrollThumb.offsetHeight / 2;
        const scrollRatio = thumbOffset / (trackRect.height - scrollThumb.offsetHeight);

        textarea.scrollTop = scrollRatio * textarea.scrollHeight;
    }

    // Posluchače událostí
    textarea.addEventListener("input", () => {
        checkScrollability();
        updateScrollThumbPosition();
    });
    textarea.addEventListener("scroll", updateScrollThumbPosition);
    window.addEventListener("resize", () => {
        checkScrollability();
        updateScrollThumbPosition();
    });

    // Inicializace
    checkScrollability();
    updateScrollThumbPosition();
</script>