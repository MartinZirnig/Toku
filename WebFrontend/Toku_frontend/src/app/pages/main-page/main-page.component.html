<app-input-ui class="fixed bottom-0 left-0 right-0 p-4 z-90"></app-input-ui>

<div class="relative z-0 mt-24 mb-48 flex justify-center"> <!-- Center the main container -->
  <div class="w-[65vw] space-y-3"> <!-- Fixed width for the main container -->
    <div *ngIf="dummyVisible">
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-sender></app-dummy-message-sender>
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-sender></app-dummy-message-sender>
      <app-dummy-message-sender></app-dummy-message-sender>
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-sender></app-dummy-message-sender>
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-sender></app-dummy-message-sender>
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-sender></app-dummy-message-sender>
      <app-dummy-message-sender></app-dummy-message-sender>
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-adresator></app-dummy-message-adresator>
      <app-dummy-message-sender></app-dummy-message-sender>
    </div>
<!-- V REACTION DATA BUDE MUSET BÝT "message.reactionsData" ZATÍM TAM BUDE NULL -->
    <div *ngFor="let message of messages; let i = index" 
         [ngClass]="{'flex justify-end': message.isSender, 'flex justify-start': !message.isSender}">
      <ng-container *ngIf="message.isSender; else adresatorTemplate">
        <app-message
          [text]="message.text"
          [time]="message.time"
          [status]="message.status"
          [previewText]="message.previewText"
          [hasFile]="message.hasFile"
          [timeStamp]="message.timeStamp"
          [onDeleteMessage]="onDeleteMessage.bind(this, i)"
          [reactionsData]="''"
          [raw]="message.raw">
        </app-message>
      </ng-container>
      <ng-template #adresatorTemplate>
        <app-message-adresator
          [text]="message.text"
          [time]="message.time"
          [onDeleteMessage]="onDeleteMessage.bind(this, i)"
          [reactionsData]="message.reactionsData">
        </app-message-adresator>
      </ng-template>
    </div>
  </div>
</div>
<div *ngFor="let popUp of popUps" class="z-999999 fixed left-1/2 transform -translate-x-1/2 top-2">
  <app-pop-up
    [id]="popUp.id"
    [message]="popUp.message"
    [backgroundColor]="popUp.backgroundColor"
    [textColor]="popUp.textColor"
    [duration]="popUp.duration"
    >
  </app-pop-up>
</div>

<app-chat-menu-ui></app-chat-menu-ui>
<app-menu-ui></app-menu-ui>
<router-outlet></router-outlet>

<app-file-download *ngIf="showFileDownloadPopup" (close)="fileDownloadPopupService.close()"></app-file-download>