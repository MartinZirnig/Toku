<div class="fixed inset-0 z-5000 flex bg-gray-900">
  <!-- Save button vedle Esc -->
  <button
    *ngIf="hasUnsavedChanges()"
    class="absolute top-6 right-32 z-50 flex items-center gap-2 px-4 py-2 rounded-lg update-btn"
    (click)="saveAndReturn()"
    style="min-width: 90px;"
  >
    <!-- SVG ikona disketky -->
    <svg class="w-5 h-5" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12.6206 2.76232C12.4868 2.75064 12.3532 2.75 12 2.75C9.62178 2.75 7.91356 2.7516 6.61358 2.92637C5.33517 3.09825 4.56445 3.42514 3.9948 3.9948C3.42514 4.56445 3.09825 5.33518 2.92637 6.61358C2.75159 7.91356 2.75 9.62178 2.75 12C2.75 14.3782 2.75159 16.0864 2.92637 17.3864C3.09825 18.6648 3.42514 19.4355 3.9948 20.0052C4.50829 20.5187 5.18517 20.8349 6.25 21.0182L6.25 20.948C6.24997 20.0495 6.24995 19.3003 6.32991 18.7055C6.41432 18.0777 6.59999 17.5109 7.05546 17.0555C7.51093 16.6 8.07773 16.4143 8.70552 16.3299C9.3003 16.2499 10.0495 16.25 10.948 16.25H13.052C13.9505 16.25 14.6997 16.2499 15.2945 16.3299C15.9223 16.4143 16.4891 16.6 16.9445 17.0555C17.4 17.5109 17.5857 18.0777 17.6701 18.7055C17.7501 19.3003 17.75 20.0495 17.75 20.948L17.75 21.0182C18.8148 20.8349 19.4917 20.5187 20.0052 20.0052C20.5749 19.4355 20.9018 18.6648 21.0736 17.3864C21.2484 16.0864 21.25 14.3782 21.25 12C21.25 11.6468 21.2494 11.5132 21.2377 11.3794C21.1804 10.7235 20.9125 10.0768 20.4892 9.57254C20.403 9.46978 20.3063 9.37221 20.0502 9.11611L14.8839 3.94977C14.6278 3.69368 14.5302 3.59701 14.4275 3.51076C13.9232 3.08746 13.2765 2.81957 12.6206 2.76232ZM16.25 21.18V21C16.25 20.036 16.2484 19.3884 16.1835 18.9054C16.1214 18.4439 16.0142 18.2464 15.8839 18.1161C15.7536 17.9858 15.5561 17.8786 15.0946 17.8165C14.6116 17.7516 13.964 17.75 13 17.75H11C10.036 17.75 9.38843 17.7516 8.90539 17.8165C8.44393 17.8786 8.24643 17.9858 8.11612 18.1161C7.9858 18.2464 7.87858 18.4439 7.81654 18.9054C7.75159 19.3884 7.75 20.036 7.75 21V21.18C8.87584 21.2491 10.2582 21.25 12 21.25C13.7418 21.25 15.1242 21.2491 16.25 21.18ZM12.0315 1.25C12.3431 1.24998 12.5445 1.24997 12.751 1.268C13.7138 1.35204 14.6517 1.74054 15.3919 2.36187C15.5507 2.49517 15.696 2.64055 15.9213 2.86587L15.9446 2.88911L21.1341 8.07862C21.3594 8.30396 21.5048 8.44933 21.6381 8.60814C22.2595 9.34833 22.648 10.2862 22.732 11.249C22.75 11.4555 22.75 11.6569 22.75 11.9684V12.0574C22.75 14.3658 22.75 16.1748 22.5603 17.5863C22.366 19.031 21.9607 20.1711 21.0659 21.0659C20.1711 21.9607 19.031 22.366 17.5863 22.5603C16.1748 22.75 14.3658 22.75 12.0574 22.75H11.9426C9.63423 22.75 7.82519 22.75 6.41371 22.5603C4.96897 22.366 3.82895 21.9607 2.93414 21.0659C2.03933 20.1711 1.63399 19.031 1.43975 17.5863C1.24998 16.1748 1.24999 14.3658 1.25 12.0574V11.9426C1.24999 9.63423 1.24998 7.82519 1.43975 6.41371C1.63399 4.96897 2.03933 3.82895 2.93414 2.93414C3.82895 2.03933 4.96897 1.63399 6.41371 1.43975C7.82519 1.24998 9.63423 1.24999 11.9426 1.25L12.0315 1.25ZM6.25 8C6.25 7.58579 6.58579 7.25 7 7.25H13C13.4142 7.25 13.75 7.58579 13.75 8C13.75 8.41422 13.4142 8.75 13 8.75H7C6.58579 8.75 6.25 8.41422 6.25 8Z" fill="#ffffff"></path> </g></svg>
    Save
  </button>
  <!-- Esc button in the top right corner -->
  <button
    class="absolute top-6 right-8 z-50 flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white"
    (click)="closeWithoutSave()"
  >
    <span class="opacity-60 text-xs">Esc</span>
    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
  <!-- Sidebar -->
  <aside class="w-64 bg-gray-800 border-r border-gray-700 flex flex-col py-8 px-4">
    <h2 class="text-gray-300 text-lg font-bold mb-8 pl-2">Settings</h2>
    <nav class="flex-1">
      <ul class="space-y-1">
        <li>
          <button type="button"
            class="w-full text-left flex items-center px-3 py-2 rounded-lg transition font-semibold"
            [ngClass]="selectedTab === 'user' ? 'bg-gray-700 text-white' : 'text-gray-400 hover:bg-gray-700 hover:text-white'"
            (click)="selectedTab = 'user'">
            <span class="material-icons text-base mr-2 opacity-80">person</span>
            My account
          </button>
        </li>
        <li>
          <button type="button"
            class="w-full text-left flex items-center px-3 py-2 rounded-lg transition font-semibold"
            [ngClass]="selectedTab === 'general' ? 'bg-gray-700 text-white' : 'text-gray-400 hover:bg-gray-700 hover:text-white'"
            (click)="selectedTab = 'general'">
            <span class="material-icons text-base mr-2 opacity-60">settings</span>
            General
          </button>
        </li>
        <li>
          <button type="button"
            class="w-full text-left flex items-center px-3 py-2 rounded-lg transition font-semibold"
            [ngClass]="selectedTab === 'contacts' ? 'bg-gray-700 text-white' : 'text-gray-400 hover:bg-gray-700 hover:text-white'"
            (click)="selectedTab = 'contacts'">
            <span class="material-icons text-base mr-2 opacity-60">contacts</span>
            Contacts
          </button>
        </li>
        <li>
          <button type="button"
            class="w-full text-left flex items-center px-3 py-2 rounded-lg transition font-semibold"
            [ngClass]="selectedTab === 'colors' ? 'bg-gray-700 text-white' : 'text-gray-400 hover:bg-gray-700 hover:text-white'"
            (click)="selectedTab = 'colors'">
            <span class="material-icons text-base mr-2 opacity-60">palette</span>
            Colors
          </button>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- Main content -->
  <main class="flex-1 mt-20 p-5 flex items-start justify-center overflow-y-auto">
    <div class="user-settings-popup w-full max-w-2xl bg-gray-800 rounded-2xl shadow-xl p-10 relative">
      <!-- Header -->
      <div class="flex items-center justify-between mb-8">
        <div *ngIf="selectedTab === 'user'" class="flex flex-col gap-2 flex-1">
          <h2 class="text-2xl font-bold text-white mb-1">My account</h2>
          <p class="text-gray-400 text-sm mb-2">Manage your personal information</p>
          <div class="flex items-center gap-6">
            <!-- Profilový obrázek -->
            <div class="group-picture-rectangle relative flex items-center justify-center bg-gray-700 rounded-xl overflow-hidden shadow-lg" style="width: 120px; height: 120px;">
              <app-profile-picture-circled [picture]="userPicture || undefined"></app-profile-picture-circled>
              <button
                type="button"
                class="absolute bottom-2 update-btn right-2 text-white rounded-full p-2 shadow transition"
                (click)="triggerPictureInput(userPictureInput)"
                title="Change profile picture"
              >
                <svg class="w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                    <path d="M18 2L22 6M2 22L3.2764 17.3199C3.35968 17.0145 3.40131 16.8619 3.46523 16.7195C3.52199 16.5931 3.59172 16.4729 3.67332 16.3609C3.76521 16.2348 3.87711 16.1229 4.1009 15.8991L14.4343 5.56569C14.6323 5.36768 14.7313 5.26867 14.8455 5.23158C14.9459 5.19895 15.0541 5.19895 15.1545 5.23158C15.2687 5.26867 15.3677 5.36768 15.5657 5.56569L18.4343 8.43431C18.6323 8.63232 18.7313 8.73133 18.7684 8.84549C18.8011 8.94591 18.8011 9.05409 18.7684 9.15451C18.7313 9.26867 18.6323 9.36768 18.4343 9.56569L8.1009 19.8991C7.87711 20.1229 7.76521 20.2348 7.63908 20.3267C7.52709 20.4083 7.40692 20.478 7.28052 20.5348C7.13815 20.5987 6.98548 20.6403 6.68014 20.7236L2 22Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg>
              </button>
              <input #userPictureInput type="file" accept="image/png, image/jpeg" class="hidden" (change)="onUserPictureSelected($event)" />
            </div>
            <!-- Editace jména -->
            <div class="flex-1 min-w-0">
              <label class="block text-gray-300 text-sm mb-1">Name</label>
              <div class="flex items-center bg-gray-700 rounded-lg px-4 py-3 user-name">
                <span *ngIf="!isEditingName" class="flex-1 text-white font-medium" [innerHTML]="getTruncatedTextWithGradient(userName, characterLimits.name, true)"></span>
                <input *ngIf="isEditingName" [(ngModel)]="userName"
                  class="flex-1 bg-transparent text-white border-none outline-none"
                  (keydown.enter)="confirmEdit('name')" [disabled]="!canChangeInformations" />
                <button
                  *ngIf="canChangeInformations"
                  class="ml-3 p-2 rounded-full  hover:bg-gray-600 focus:outline-none cursor-pointer"
                  [ngClass]="{'bg-blue-500': isEditingName}"
                  (click)="toggleEdit('name')"
                  [disabled]="!canChangeInformations">
                  <svg class="w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                    <path d="M18 2L22 6M2 22L3.2764 17.3199C3.35968 17.0145 3.40131 16.8619 3.46523 16.7195C3.52199 16.5931 3.59172 16.4729 3.67332 16.3609C3.76521 16.2348 3.87711 16.1229 4.1009 15.8991L14.4343 5.56569C14.6323 5.36768 14.7313 5.26867 14.8455 5.23158C14.9459 5.19895 15.0541 5.19895 15.1545 5.23158C15.2687 5.26867 15.3677 5.36768 15.5657 5.56569L18.4343 8.43431C18.6323 8.63232 18.7313 8.73133 18.7684 8.84549C18.8011 8.94591 18.8011 9.05409 18.7684 9.15451C18.7313 9.26867 18.6323 9.36768 18.4343 9.56569L8.1009 19.8991C7.87711 20.1229 7.76521 20.2348 7.63908 20.3267C7.52709 20.4083 7.40692 20.478 7.28052 20.5348C7.13815 20.5987 6.98548 20.6403 6.68014 20.7236L2 22Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- Pro ostatní záložky -->
        <div *ngIf="selectedTab !== 'user'">
          <h2 class="text-2xl font-bold text-white mb-1">
            {{ selectedTab === 'general' ? 'General settings' : (selectedTab === 'contacts' ? 'Contacts' : 'Colors') }}
          </h2>
          <p class="text-gray-400 text-sm">
            {{ selectedTab === 'general' ? 'General application settings' : (selectedTab === 'contacts' ? 'Manage your contacts' : 'Customize your color theme') }}
          </p>
        </div>
      </div>

      <!-- User settings tab -->
      <div *ngIf="selectedTab === 'user'" class="space-y-8">
        <!-- Phone -->
        <div>
          <label class="block text-gray-300 text-sm mb-1">Phone</label>
          <div class="flex items-center bg-gray-700 rounded-lg px-4 py-3 phone-container"
               [ngClass]="{'border-2 border-red-600': invalidPhone}">
            <span *ngIf="!isEditingPhone" class="flex-1 text-white" [innerHTML]="getTruncatedTextWithGradient(userPhone, characterLimits.phone, false)"></span>
            <input *ngIf="isEditingPhone" [(ngModel)]="userPhone"
              class="flex-1 bg-transparent text-white border-none outline-none"
              (keydown.enter)="confirmEdit('phone')" [disabled]="!canChangeInformations" />
            <button
              *ngIf="canChangeInformations"
              class="ml-3 p-2 rounded-full hover:bg-gray-600 focus:outline-none cursor-pointer"
              [ngClass]="{'bg-blue-500': isEditingPhone}"
              (click)="toggleEdit('phone')" [disabled]="!canChangeInformations">
              <svg class="w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                <path d="M18 2L22 6M2 22L3.2764 17.3199C3.35968 17.0145 3.40131 16.8619 3.46523 16.7195C3.52199 16.5931 3.59172 16.4729 3.67332 16.3609C3.76521 16.2348 3.87711 16.1229 4.1009 15.8991L14.4343 5.56569C14.6323 5.36768 14.7313 5.26867 14.8455 5.23158C14.9459 5.19895 15.0541 5.19895 15.1545 5.23158C15.2687 5.26867 15.3677 5.36768 15.5657 5.56569L18.4343 8.43431C18.6323 8.63232 18.7313 8.73133 18.7684 8.84549C18.8011 8.94591 18.8011 9.05409 18.7684 9.15451C18.7313 9.26867 18.6323 9.36768 18.4343 9.56569L8.1009 19.8991C7.87711 20.1229 7.76521 20.2348 7.63908 20.3267C7.52709 20.4083 7.40692 20.478 7.28052 20.5348C7.13815 20.5987 6.98548 20.6403 6.68014 20.7236L2 22Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
            </button>
          </div>
        </div>
        <!-- Email -->
        <div>
          <label class="block text-gray-300 text-sm mb-1">Email</label>
          <div class="flex items-center bg-gray-700 rounded-lg px-4 py-3 email-container"
               [ngClass]="{'border-2 border-red-600': invalidEmail}">
            <span *ngIf="!isEditingEmail" class="flex-1 text-white" [innerHTML]="getTruncatedTextWithGradient(userEmail, characterLimits.email, false)"></span>
            <input *ngIf="isEditingEmail" [(ngModel)]="userEmail"
              class="flex-1 bg-transparent text-white border-none outline-none"
              (keydown.enter)="confirmEdit('email')" [disabled]="!canChangeInformations" />
            <button
              *ngIf="canChangeInformations"
              class="ml-3 p-2 rounded-full hover:bg-gray-600 focus:outline-none cursor-pointer"
              [ngClass]="{'bg-blue-500': isEditingEmail}"
              (click)="toggleEdit('email')" [disabled]="!canChangeInformations">
              <svg class="w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                <path d="M18 2L22 6M2 22L3.2764 17.3199C3.35968 17.0145 3.40131 16.8619 3.46523 16.7195C3.52199 16.5931 3.59172 16.4729 3.67332 16.3609C3.76521 16.2348 3.87711 16.1229 4.1009 15.8991L14.4343 5.56569C14.6323 5.36768 14.7313 5.26867 14.8455 5.23158C14.9459 5.19895 15.0541 5.19895 15.1545 5.23158C15.2687 5.26867 15.3677 5.36768 15.5657 5.56569L18.4343 8.43431C18.6323 8.63232 18.7313 8.73133 18.7684 8.84549C18.8011 8.94591 18.8011 9.05409 18.7684 9.15451C18.7313 9.26867 18.6323 9.36768 18.4343 9.56569L8.1009 19.8991C7.87711 20.1229 7.76521 20.2348 7.63908 20.3267C7.52709 20.4083 7.40692 20.478 7.28052 20.5348C7.13815 20.5987 6.98548 20.6403 6.68014 20.7236L2 22Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
            </button>
          </div>
          
        </div>
        <!-- Account Info -->
        <div>
          <label class="block text-gray-300 text-sm mb-1">Account info</label>
          <div class="flex items-center bg-gray-700 rounded-lg px-4 py-3">
                        <svg class="w-7 h-7 mr-2" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 9C8.25 6.92893 9.92893 5.25 12 5.25C14.0711 5.25 15.75 6.92893 15.75 9C15.75 11.0711 14.0711 12.75 12 12.75C9.92893 12.75 8.25 11.0711 8.25 9ZM12 6.75C10.7574 6.75 9.75 7.75736 9.75 9C9.75 10.2426 10.7574 11.25 12 11.25C13.2426 11.25 14.25 10.2426 14.25 9C14.25 7.75736 13.2426 6.75 12 6.75Z" fill="#ffffff"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 14.5456 3.77827 16.851 5.4421 18.5235C5.6225 17.5504 5.97694 16.6329 6.68837 15.8951C7.75252 14.7915 9.45416 14.25 12 14.25C14.5457 14.25 16.2474 14.7915 17.3115 15.8951C18.023 16.6329 18.3774 17.5505 18.5578 18.5236C20.2217 16.8511 21.25 14.5456 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75ZM17.1937 19.6554C17.0918 18.4435 16.8286 17.5553 16.2318 16.9363C15.5823 16.2628 14.3789 15.75 12 15.75C9.62099 15.75 8.41761 16.2628 7.76815 16.9363C7.17127 17.5553 6.90811 18.4434 6.80622 19.6553C8.28684 20.6618 10.0747 21.25 12 21.25C13.9252 21.25 15.7131 20.6618 17.1937 19.6554Z" fill="#ffffff"></path> </g></svg>
            
            
            <span class="flex-1 text-gray-300">{{ userAccountInfo }}</span>
          </div>
        </div>
        <!-- Změnit heslo tlačítko a Delete account tlačítko -->
        <div class="flex gap-4 mt-12">
          <button
            class="delete-account-btn  flex items-center justify-center gap-2 w-full"
            style="min-width: 0; height: 48px;"
            (click)="onDeleteAccountClick()"
            type="button"
          >
            <svg class="w-7 h-7"  viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 2.75C11.0215 2.75 10.1871 3.37503 9.87787 4.24993C9.73983 4.64047 9.31134 4.84517 8.9208 4.70713C8.53026 4.56909 8.32557 4.1406 8.46361 3.75007C8.97804 2.29459 10.3661 1.25 12 1.25C13.634 1.25 15.022 2.29459 15.5365 3.75007C15.6745 4.1406 15.4698 4.56909 15.0793 4.70713C14.6887 4.84517 14.2602 4.64047 14.1222 4.24993C13.813 3.37503 12.9785 2.75 12 2.75Z" fill="#ffffff"></path> <path d="M2.75 6C2.75 5.58579 3.08579 5.25 3.5 5.25H20.5001C20.9143 5.25 21.2501 5.58579 21.2501 6C21.2501 6.41421 20.9143 6.75 20.5001 6.75H3.5C3.08579 6.75 2.75 6.41421 2.75 6Z" fill="#ffffff"></path> <path d="M5.91508 8.45011C5.88753 8.03681 5.53015 7.72411 5.11686 7.75166C4.70356 7.77921 4.39085 8.13659 4.41841 8.54989L4.88186 15.5016C4.96735 16.7844 5.03641 17.8205 5.19838 18.6336C5.36678 19.4789 5.6532 20.185 6.2448 20.7384C6.83639 21.2919 7.55994 21.5307 8.41459 21.6425C9.23663 21.75 10.2751 21.75 11.5607 21.75H12.4395C13.7251 21.75 14.7635 21.75 15.5856 21.6425C16.4402 21.5307 17.1638 21.2919 17.7554 20.7384C18.347 20.185 18.6334 19.4789 18.8018 18.6336C18.9637 17.8205 19.0328 16.7844 19.1183 15.5016L19.5818 8.54989C19.6093 8.13659 19.2966 7.77921 18.8833 7.75166C18.47 7.72411 18.1126 8.03681 18.0851 8.45011L17.6251 15.3492C17.5353 16.6971 17.4712 17.6349 17.3307 18.3405C17.1943 19.025 17.004 19.3873 16.7306 19.6431C16.4572 19.8988 16.083 20.0647 15.391 20.1552C14.6776 20.2485 13.7376 20.25 12.3868 20.25H11.6134C10.2626 20.25 9.32255 20.2485 8.60915 20.1552C7.91715 20.0647 7.54299 19.8988 7.26957 19.6431C6.99616 19.3873 6.80583 19.025 6.66948 18.3405C6.52891 17.6349 6.46488 16.6971 6.37503 15.3492L5.91508 8.45011Z" fill="#ffffff"></path> <path d="M9.42546 10.2537C9.83762 10.2125 10.2051 10.5132 10.2464 10.9254L10.7464 15.9254C10.7876 16.3375 10.4869 16.7051 10.0747 16.7463C9.66256 16.7875 9.29502 16.4868 9.25381 16.0746L8.75381 11.0746C8.71259 10.6625 9.0133 10.2949 9.42546 10.2537Z" fill="#ffffff"></path> <path d="M15.2464 11.0746C15.2876 10.6625 14.9869 10.2949 14.5747 10.2537C14.1626 10.2125 13.795 10.5132 13.7538 10.9254L13.2538 15.9254C13.2126 16.3375 13.5133 16.7051 13.9255 16.7463C14.3376 16.7875 14.7051 16.4868 14.7464 16.0746L15.2464 11.0746Z" fill="#ffffff"></path> </g></svg>
            Delete account
          </button>
          <button
            class="update-btn flex items-center justify-center gap-2 w-full"
            style="min-width: 0; height: 48px;"
            (click)="redirectToChangePassword()"
            type="button"
          >
            
            <svg class="w-7 h-7" viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 9C8.25 6.92893 9.92893 5.25 12 5.25C14.0711 5.25 15.75 6.92893 15.75 9C15.75 11.0711 14.0711 12.75 12 12.75C9.92893 12.75 8.25 11.0711 8.25 9ZM12 6.75C10.7574 6.75 9.75 7.75736 9.75 9C9.75 10.2426 10.7574 11.25 12 11.25C13.2426 11.25 14.25 10.2426 14.25 9C14.25 7.75736 13.2426 6.75 12 6.75Z" fill="#ffffff"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 14.5456 3.77827 16.851 5.4421 18.5235C5.6225 17.5504 5.97694 16.6329 6.68837 15.8951C7.75252 14.7915 9.45416 14.25 12 14.25C14.5457 14.25 16.2474 14.7915 17.3115 15.8951C18.023 16.6329 18.3774 17.5505 18.5578 18.5236C20.2217 16.8511 21.25 14.5456 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75ZM17.1937 19.6554C17.0918 18.4435 16.8286 17.5553 16.2318 16.9363C15.5823 16.2628 14.3789 15.75 12 15.75C9.62099 15.75 8.41761 16.2628 7.76815 16.9363C7.17127 17.5553 6.90811 18.4434 6.80622 19.6553C8.28684 20.6618 10.0747 21.25 12 21.25C13.9252 21.25 15.7131 20.6618 17.1937 19.6554Z" fill="#ffffff"></path> </g></svg>
            Change password
          </button>
        </div>
      </div>

      <!-- General settings tab -->
      <div *ngIf="selectedTab === 'general'" class="space-y-8">
        <div>
          <label class="block text-gray-300 text-sm mb-1">Show AI bot group</label>
          <div class="flex items-center bg-gray-700 rounded-lg px-4 py-3">
            <span class="flex-1 text-white">AI bot group is {{ showAiGroup ? 'visible' : 'hidden' }}</span>
            <label class="switch ml-3 flex items-center cursor-pointer">
              <input
                type="checkbox"
                [checked]="showAiGroup"
                (change)="showAiGroup = !showAiGroup; onAiGroupToggle()"
              />
              <span class="slider"></span>
            </label>
          </div>
        </div>
        <div>
          <label class="block text-gray-300 text-sm mb-1">Swipe right action</label>
          <div class="flex items-center bg-gray-700 rounded-lg px-4 py-3">
            <span class="flex-1 text-white">When you swipe right on a message:</span>
            <select class="ml-3 bg-gray-800 text-white rounded px-2 py-1"
                    [ngModel]="swipeRightAction"
                    (ngModelChange)="setSwipeRightAction($event)">
              <option value="reply">Reply</option>
              <option value="react">React</option>
              <option value="copy">Copy</option>
              <option value="delete">Delete</option>
              <option value="edit">Edit</option>
            </select>
          </div>
        </div>
        <div>
          <label class="block text-gray-300 text-sm mb-1">Swipe left action</label>
          <div class="flex items-center bg-gray-700 rounded-lg px-4 py-3">
            <span class="flex-1 text-white">When you swipe left on a message:</span>
            <select class="ml-3 bg-gray-800 text-white rounded px-2 py-1"
                    [ngModel]="swipeLeftAction"
                    (ngModelChange)="setSwipeLeftAction($event)">
              <option value="react">React</option>
              <option value="reply">Reply</option>
              <option value="copy">Copy</option>
              <option value="delete">Delete</option>
              <option value="edit">Edit</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Contacts tab -->
      <div *ngIf="selectedTab === 'contacts'" class="space-y-8">
        <div class="flex items-center justify-between mb-4">
          <label class="block text-gray-300 text-lg font-bold">Contacts</label>
          <button class="update-btn px-4 py-2 flex items-center gap-2" (click)="openUserFinder()">
            Add Contact
          </button>
        </div>
        <!-- Kontakty jsou vždy viditelné -->
        <div *ngIf="contacts.length > 0; else noContacts">
          <ul class="divide-y divide-gray-700 rounded-lg bg-gray-700/50 border border-gray-700 shadow-inner">
            <li *ngFor="let contact of contacts" class="flex items-center px-4 py-3">
              <app-profile-picture-circled
                class="flex-shrink-0 w-10 h-10 mr-4"
                [picture]="''" 
              ></app-profile-picture-circled>
              <!-- TODO: Nastavit profilovou fotografii kontaktu-->
              <div class="flex-1 min-w-0">
                <div class="text-white font-medium truncate">{{ contact.name }} 
                  <span class="text-sm text-gray-500 italic">#{{ contact.userId }}</span>
                </div>
                <div class="text-gray-400 text-xs truncate">
                  {{contact.mail}}
                </div>
              </div>
              <button
                class="ml-4 px-3 py-2 rounded-full flex items-center gap-2 bg-gray-700 hover:bg-red-600 transition text-white font-semibold shadow remove-contact-btn"
                (click)="onRemoveContactClick(contact)"
                title="Remove contact"
                type="button"
              >
              <svg  class="w-5 h-5 text-red-400 group-hover:text-white transition"  viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 2.75C11.0215 2.75 10.1871 3.37503 9.87787 4.24993C9.73983 4.64047 9.31134 4.84517 8.9208 4.70713C8.53026 4.56909 8.32557 4.1406 8.46361 3.75007C8.97804 2.29459 10.3661 1.25 12 1.25C13.634 1.25 15.022 2.29459 15.5365 3.75007C15.6745 4.1406 15.4698 4.56909 15.0793 4.70713C14.6887 4.84517 14.2602 4.64047 14.1222 4.24993C13.813 3.37503 12.9785 2.75 12 2.75Z" fill="#e42121"></path> <path d="M2.75 6C2.75 5.58579 3.08579 5.25 3.5 5.25H20.5001C20.9143 5.25 21.2501 5.58579 21.2501 6C21.2501 6.41421 20.9143 6.75 20.5001 6.75H3.5C3.08579 6.75 2.75 6.41421 2.75 6Z" fill="#e42121"></path> <path d="M5.91508 8.45011C5.88753 8.03681 5.53015 7.72411 5.11686 7.75166C4.70356 7.77921 4.39085 8.13659 4.41841 8.54989L4.88186 15.5016C4.96735 16.7844 5.03641 17.8205 5.19838 18.6336C5.36678 19.4789 5.6532 20.185 6.2448 20.7384C6.83639 21.2919 7.55994 21.5307 8.41459 21.6425C9.23663 21.75 10.2751 21.75 11.5607 21.75H12.4395C13.7251 21.75 14.7635 21.75 15.5856 21.6425C16.4402 21.5307 17.1638 21.2919 17.7554 20.7384C18.347 20.185 18.6334 19.4789 18.8018 18.6336C18.9637 17.8205 19.0328 16.7844 19.1183 15.5016L19.5818 8.54989C19.6093 8.13659 19.2966 7.77921 18.8833 7.75166C18.47 7.72411 18.1126 8.03681 18.0851 8.45011L17.6251 15.3492C17.5353 16.6971 17.4712 17.6349 17.3307 18.3405C17.1943 19.025 17.004 19.3873 16.7306 19.6431C16.4572 19.8988 16.083 20.0647 15.391 20.1552C14.6776 20.2485 13.7376 20.25 12.3868 20.25H11.6134C10.2626 20.25 9.32255 20.2485 8.60915 20.1552C7.91715 20.0647 7.54299 19.8988 7.26957 19.6431C6.99616 19.3873 6.80583 19.025 6.66948 18.3405C6.52891 17.6349 6.46488 16.6971 6.37503 15.3492L5.91508 8.45011Z" fill="#e42121"></path> <path d="M9.42546 10.2537C9.83762 10.2125 10.2051 10.5132 10.2464 10.9254L10.7464 15.9254C10.7876 16.3375 10.4869 16.7051 10.0747 16.7463C9.66256 16.7875 9.29502 16.4868 9.25381 16.0746L8.75381 11.0746C8.71259 10.6625 9.0133 10.2949 9.42546 10.2537Z" fill="#e42121"></path> <path d="M15.2464 11.0746C15.2876 10.6625 14.9869 10.2949 14.5747 10.2537C14.1626 10.2125 13.795 10.5132 13.7538 10.9254L13.2538 15.9254C13.2126 16.3375 13.5133 16.7051 13.9255 16.7463C14.3376 16.7875 14.7051 16.4868 14.7464 16.0746L15.2464 11.0746Z" fill="#e42121"></path> </g></svg>
            </button>
            </li>
          </ul>
        </div>
        <ng-template #noContacts>
          <div class="text-gray-400 italic text-center py-8">No contacts yet.</div>
        </ng-template>
      </div>

      <!-- Colors tab -->
      <div *ngIf="selectedTab === 'colors'" class="space-y-8">
        <div>
            <label class="block text-gray-300 text-lg font-bold mb-2">Color theme</label>
            <!-- Reset colors button -->
            <div class="flex justify-end mb-4">
              <button
                class="update-btn flex items-center gap-2 px-4 py-2 rounded-lg"
                (click)="onResetColorsClick()"
                type="button"
              >
                <svg  class="w-5 h-5"  viewBox="0 0 24.00 24.00" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M2.93077 11.2003C3.00244 6.23968 7.07619 2.25 12.0789 2.25C15.3873 2.25 18.287 3.99427 19.8934 6.60721C20.1103 6.96007 20.0001 7.42199 19.6473 7.63892C19.2944 7.85585 18.8325 7.74565 18.6156 7.39279C17.2727 5.20845 14.8484 3.75 12.0789 3.75C7.8945 3.75 4.50372 7.0777 4.431 11.1982L4.83138 10.8009C5.12542 10.5092 5.60029 10.511 5.89203 10.8051C6.18377 11.0991 6.18191 11.574 5.88787 11.8657L4.20805 13.5324C3.91565 13.8225 3.44398 13.8225 3.15157 13.5324L1.47176 11.8657C1.17772 11.574 1.17585 11.0991 1.46759 10.8051C1.75933 10.5111 2.2342 10.5092 2.52824 10.8009L2.93077 11.2003ZM19.7864 10.4666C20.0786 10.1778 20.5487 10.1778 20.8409 10.4666L22.5271 12.1333C22.8217 12.4244 22.8245 12.8993 22.5333 13.1939C22.2421 13.4885 21.7673 13.4913 21.4727 13.2001L21.0628 12.7949C20.9934 17.7604 16.9017 21.75 11.8825 21.75C8.56379 21.75 5.65381 20.007 4.0412 17.3939C3.82366 17.0414 3.93307 16.5793 4.28557 16.3618C4.63806 16.1442 5.10016 16.2536 5.31769 16.6061C6.6656 18.7903 9.09999 20.25 11.8825 20.25C16.0887 20.25 19.4922 16.9171 19.5625 12.7969L19.1546 13.2001C18.86 13.4913 18.3852 13.4885 18.094 13.1939C17.8028 12.8993 17.8056 12.4244 18.1002 12.1333L19.7864 10.4666Z" fill="#ffffff"></path> </g></svg>
                Reset all colors
              </button>
            </div>
            <div class="flex flex-col gap-4">

              <!-- Input bar colors -->
              <div class="bg-white/10 p-2 rounded-lg">
                <!-- Klikací hlavička pro rozbalení/sbalení -->
                <button
                  class="flex items-center w-full text-left gap-2 text-gray-300 text-lg font-bold p-4 hover:bg-white/20 rounded transition"
                  (click)="showInputBarColors = !showInputBarColors"
                  type="button"
                >
                  <span>Input bar colors</span>
                  <svg [ngClass]="{'rotate-90': showInputBarColors, 'rotate-0': !showInputBarColors}" class="transition-transform w-5 h-5 ml-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div *ngIf="showInputBarColors">
                  <div class="relative mt-10">
                    <div class="scale-90 inline-block pointer-events-none">
                      <app-input-ui [userTyping]="'User'"></app-input-ui>
                    </div>
                    <div class="absolute inset-0 pointer-events-auto">
                      <!-- Klikatelný overlay nebo obsah -->
                    </div>
                  </div>
                  <div class="grid grid-cols-2 gap-4 p-4">
                    <!-- ARGB barvy -->
                    <app-color-picker [label]="'Input Bar Bg'" [ArgbModel]="colorManager.csm.inputBarBackground" (argbChange)="onArgbColorChange(0, $event)"></app-color-picker>
                    <app-color-picker [label]="'Input Bar Shadow'" [ArgbModel]="colorManager.csm.inputBarShadow" (argbChange)="onArgbColorChange(1, $event)"></app-color-picker>
                    <app-color-picker [label]="'Input Bg'" [ArgbModel]="colorManager.csm.inputBackground" (argbChange)="onArgbColorChange(2, $event)"></app-color-picker>
                    <app-color-picker [label]="'Input Bg Focus'" [ArgbModel]="colorManager.csm.inputBackgroundFocus" (argbChange)="onArgbColorChange(3, $event)"></app-color-picker>
                    <app-color-picker [label]="'Input Border'" [ArgbModel]="colorManager.csm.inputBorder" (argbChange)="onArgbColorChange(4, $event)"></app-color-picker>
                    <app-color-picker [label]="'Input Border Focus'" [ArgbModel]="colorManager.csm.inputBorderFocus" (argbChange)="onArgbColorChange(5, $event)"></app-color-picker>
                    <app-color-picker [label]="'Input Text'" [ArgbModel]="colorManager.csm.inputText" (argbChange)="onArgbColorChange(6, $event)"></app-color-picker>
                    <app-color-picker [label]="'Input Placeholder'" [ArgbModel]="colorManager.csm.inputPlaceholder" (argbChange)="onArgbColorChange(7, $event)"></app-color-picker>
                    <app-color-picker [label]="'File Count Bg'" [ArgbModel]="colorManager.csm.fileCountCircleBackground" (argbChange)="onArgbColorChange(8, $event)"></app-color-picker>
                    <app-color-picker [label]="'File Count Text'" [ArgbModel]="colorManager.csm.fileCountCircleText" (argbChange)="onArgbColorChange(9, $event)"></app-color-picker>
                    <app-color-picker [label]="'Scrollbar Track'" [ArgbModel]="colorManager.csm.inputScrollbarTrack" (argbChange)="onArgbColorChange(10, $event)"></app-color-picker>
                    <app-color-picker [label]="'Reply Bar Border'" [ArgbModel]="colorManager.csm.replyPreviewBarBorder" (argbChange)="onArgbColorChange(11, $event)"></app-color-picker>
                    <app-color-picker [label]="'Reply Bar Close'" [ArgbModel]="colorManager.csm.replyPreviewBarCloseButton" (argbChange)="onArgbColorChange(12, $event)"></app-color-picker>
                    <app-color-picker [label]="'Reply Bar Close Hover'" [ArgbModel]="colorManager.csm.replyPreviewBarCloseButtonHover" (argbChange)="onArgbColorChange(13, $event)"></app-color-picker>
                    <app-color-picker [label]="'Spinner Dot'" [ArgbModel]="colorManager.csm.inputSpinnerDot" (argbChange)="onArgbColorChange(14, $event)"></app-color-picker>
                    <app-color-picker [label]="'Spinner Text'" [ArgbModel]="colorManager.csm.inputSpinnerText" (argbChange)="onArgbColorChange(15, $event)"></app-color-picker>
                  </div>
                  <!-- Gradient barvy -->
                  <app-color-picker class="ml-4 mt-4 p-4" [label]="'Scrollbar Thumb'" [GradientArgbModel]="colorManager.csm.inputScrollbarThumb" (gradientArgbChange)="onGradientColorChange(0, $event)"></app-color-picker>
                  <app-color-picker class="ml-4 mr-4 mt-4 p-4" [label]="'Scrollbar Thumb Hover'" [GradientArgbModel]="colorManager.csm.inputScrollbarThumbHover" (gradientArgbChange)="onGradientColorChange(1, $event)"></app-color-picker>
                </div>
              </div>

              <!-- Message sender colors -->
              <div class="bg-white/10 p-2 rounded-lg">
                <button
                  class="flex items-center w-full text-left gap-2 text-gray-300 text-lg font-bold p-4 hover:bg-white/20 rounded transition"
                  (click)="showMessageColors = !showMessageColors"
                  type="button"
                >
                  <span>Message sender colors</span>
                  <svg [ngClass]="{'rotate-90': showMessageColors, 'rotate-0': !showMessageColors}" class="transition-transform w-5 h-5 ml-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div *ngIf="showMessageColors">
                  <div class="relative mt-10">
                    <div class="scale-90 inline-block pointer-events-none">
                      <app-message
                        [text]="'Example message text'"
                        [image]="null"
                        [time]="'12:34'"
                        [status]="'delivered'"
                        [previewText]="null"
                        [hasFile]="false"
                        [timeStamp]="null"
                        [reaction]="''"
                        [fileCount]="0"
                        [fileTotalSize]="0"
                        [reactionsData]="''"
                      ></app-message>
                    </div>
                    <div class="absolute inset-0 pointer-events-auto">
                      <!-- Klikatelný overlay nebo obsah -->
                    </div>
                  </div>
                  <div class="grid grid-cols-2 gap-4 p-4">
                    <!-- Message sender ARGB color pickers -->
                    <app-color-picker [label]="'Card Bg'" [ArgbModel]="colorManager.csm.cardBackground" (argbChange)="colorManager.csm.cardBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Sender Bg'" [ArgbModel]="colorManager.csm.messageSenderBackground" (argbChange)="colorManager.csm.messageSenderBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Preview Bg'" [ArgbModel]="colorManager.csm.messagePreviewBackground" (argbChange)="colorManager.csm.messagePreviewBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Sender Text'" [ArgbModel]="colorManager.csm.messageSenderText" (argbChange)="colorManager.csm.messageSenderText = $event"></app-color-picker>
                    <app-color-picker [label]="'Preview Text'" [ArgbModel]="colorManager.csm.messagePreviewText" (argbChange)="colorManager.csm.messagePreviewText = $event"></app-color-picker>
                    <app-color-picker [label]="'Status Icon'" [ArgbModel]="colorManager.csm.messageStatusIcon" (argbChange)="colorManager.csm.messageStatusIcon = $event"></app-color-picker>
                    <app-color-picker [label]="'Status Read Icon'" [ArgbModel]="colorManager.csm.messageStatusReadIcon" (argbChange)="colorManager.csm.messageStatusReadIcon = $event"></app-color-picker>
                    <app-color-picker [label]="'File Preview Bg'" [ArgbModel]="colorManager.csm.messageFilePreviewBackground" (argbChange)="colorManager.csm.messageFilePreviewBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'File Preview Text'" [ArgbModel]="colorManager.csm.messageFilePreviewText" (argbChange)="colorManager.csm.messageFilePreviewText = $event"></app-color-picker>
                    <app-color-picker [label]="'File Preview Icon'" [ArgbModel]="colorManager.csm.messageFilePreviewIcon" (argbChange)="colorManager.csm.messageFilePreviewIcon = $event"></app-color-picker>
                    <app-color-picker [label]="'Placeholder'" [ArgbModel]="colorManager.csm.messagePlaceholder" (argbChange)="colorManager.csm.messagePlaceholder = $event"></app-color-picker>
                  </div>
                </div>
              </div>

              <!-- Message adresator colors -->
              <div class="bg-white/10 p-2 rounded-lg">
                <button
                  class="flex items-center w-full text-left gap-2 text-gray-300 text-lg font-bold p-4 hover:bg-white/20 rounded transition"
                  (click)="showMessageAdresatorColors = !showMessageAdresatorColors"
                  type="button"
                >
                  <span>Message adresator colors</span>
                  <svg [ngClass]="{'rotate-90': showMessageAdresatorColors, 'rotate-0': !showMessageAdresatorColors}" class="transition-transform w-5 h-5 ml-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div *ngIf="showMessageAdresatorColors">
                  <div class="relative mt-10">
                    <div class="scale-90 inline-block pointer-events-none">
                      <app-message-adresator
                        [text]="'Example adresator message'"
                        [image]="null"
                        [time]="'12:34'"
                        [previewText]="null"
                        [hasFile]="false"
                        [fileCount]="0"
                        [fileTotalSize]="0"
                        [reactionsData]="''"
                      ></app-message-adresator>
                    </div>
                    <div class="absolute inset-0 pointer-events-auto">
                      <!-- Klikatelný overlay nebo obsah -->
                    </div>
                  </div>
                  <div class="grid grid-cols-2 gap-4 p-4">
                    <!-- Message adresator ARGB color pickers -->
                    <app-color-picker [label]="'Card Bg'" [ArgbModel]="colorManager.csm.cardBackground" (argbChange)="colorManager.csm.cardBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Adresator Bg'" [ArgbModel]="colorManager.csm.messageAdresatorBackground" (argbChange)="colorManager.csm.messageAdresatorBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Preview Bg'" [ArgbModel]="colorManager.csm.messagePreviewBackground" (argbChange)="colorManager.csm.messagePreviewBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Adresator Text'" [ArgbModel]="colorManager.csm.messageAdresatorText" (argbChange)="colorManager.csm.messageAdresatorText = $event"></app-color-picker>
                    <app-color-picker [label]="'Preview Text'" [ArgbModel]="colorManager.csm.messagePreviewText" (argbChange)="colorManager.csm.messagePreviewText = $event"></app-color-picker>
                    <app-color-picker [label]="'Status Icon'" [ArgbModel]="colorManager.csm.messageStatusIcon" (argbChange)="colorManager.csm.messageStatusIcon = $event"></app-color-picker>
                    <app-color-picker [label]="'File Preview Bg'" [ArgbModel]="colorManager.csm.messageFilePreviewBackground" (argbChange)="colorManager.csm.messageFilePreviewBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'File Preview Text'" [ArgbModel]="colorManager.csm.messageFilePreviewText" (argbChange)="colorManager.csm.messageFilePreviewText = $event"></app-color-picker>
                    <app-color-picker [label]="'File Preview Icon'" [ArgbModel]="colorManager.csm.messageFilePreviewIcon" (argbChange)="colorManager.csm.messageFilePreviewIcon = $event"></app-color-picker>
                    <app-color-picker [label]="'Placeholder'" [ArgbModel]="colorManager.csm.messagePlaceholder" (argbChange)="colorManager.csm.messagePlaceholder = $event"></app-color-picker>
                  </div>
                </div>
              </div>

              <!-- Active group colors -->
              <div class="bg-white/10 p-2 rounded-lg">
                <button
                  class="flex items-center w-full text-left gap-2 text-gray-300 text-lg font-bold p-4 hover:bg-white/20 rounded transition"
                  (click)="showActiveGroupColors = !showActiveGroupColors"
                  type="button"
                >
                  <span>Active group colors</span>
                  <svg [ngClass]="{'rotate-90': showActiveGroupColors, 'rotate-0': !showActiveGroupColors}" class="transition-transform w-5 h-5 ml-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div *ngIf="showActiveGroupColors">
                  <div class="relative mt-10">
                    <div class="scale-90 inline-block pointer-events-none">
                      <app-active-group [data]="{ groupName: 'Example', lastDecryptedMessage: 'Last message', lastOperation: '12:34', groupId: 1 }"></app-active-group>
                    </div>
                    <div class="absolute inset-0 pointer-events-auto"></div>
                  </div>
                  <div class="grid grid-cols-2 gap-4 p-4">
                    <app-color-picker [label]="'Highlight Bg'" [ArgbModel]="colorManager.csm.highlightBackground" (argbChange)="colorManager.csm.highlightBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Menu Bg'" [ArgbModel]="colorManager.csm.menuBackground" (argbChange)="colorManager.csm.menuBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'List Item Ring'" [ArgbModel]="colorManager.csm.listItemRing" (argbChange)="colorManager.csm.listItemRing = $event"></app-color-picker>
                    <app-color-picker [label]="'Primary Text'" [ArgbModel]="colorManager.csm.primaryText" (argbChange)="colorManager.csm.primaryText = $event"></app-color-picker>
                    <app-color-picker [label]="'Secondary Text'" [ArgbModel]="colorManager.csm.secondaryText" (argbChange)="colorManager.csm.secondaryText = $event"></app-color-picker>
                    <app-color-picker [label]="'Menu Btn Bg'" [ArgbModel]="colorManager.csm.menuButtonBackground" (argbChange)="colorManager.csm.menuButtonBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Menu Btn Bg Hover'" [ArgbModel]="colorManager.csm.menuButtonBackgroundHover" (argbChange)="colorManager.csm.menuButtonBackgroundHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Menu Btn Icon Hover'" [ArgbModel]="colorManager.csm.menuButtonIconHover" (argbChange)="colorManager.csm.menuButtonIconHover = $event"></app-color-picker>
                  </div>
                  <app-color-picker [label]="'Avatar Gradient Bg'" [GradientArgbModel]="colorManager.csm.avatarGradientBackground" (gradientArgbChange)="colorManager.csm.avatarGradientBackground = $event"></app-color-picker>
                </div>
              </div>

              <!-- Chat menu UI colors-->
              <div class="bg-white/10 p-2 rounded-lg">
                <button
                  class="flex items-center w-full text-left gap-2 text-gray-300 text-lg font-bold p-4 hover:bg-white/20 rounded transition"
                  (click)="showChatMenuUiColors = !showChatMenuUiColors"
                  type="button"
                >
                  <span>Chat menu UI colors</span>
                  <svg [ngClass]="{'rotate-90': showChatMenuUiColors, 'rotate-0': !showChatMenuUiColors}" class="transition-transform w-5 h-5 ml-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div *ngIf="showChatMenuUiColors" >
                  <div class="relative mt-10">
                    <div class="scale-90 inline-block pointer-events-none">
                      <app-chat-menu-ui class="pointer-events-none scale-50 scale-y-[-1]" ></app-chat-menu-ui>
                    </div>
                    <div class="absolute inset-0 pointer-events-auto"></div>
                  </div>
                  <div class="grid grid-cols-2 gap-4 p-4 mt-250">
                    <app-color-picker [label]="'Menu Bg'" [ArgbModel]="colorManager.csm.menuBackground" (argbChange)="colorManager.csm.menuBackground = $event"></app-color-picker>
                    
                    <app-color-picker [label]="'Menu Shadow'" [ArgbModel]="colorManager.csm.menuShadow" (argbChange)="colorManager.csm.menuShadow = $event"></app-color-picker>
                    <app-color-picker [label]="'Card Bg'" [ArgbModel]="colorManager.csm.cardBackground" (argbChange)="colorManager.csm.cardBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Highlight Bg'" [ArgbModel]="colorManager.csm.highlightBackground" (argbChange)="colorManager.csm.highlightBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Primary Text'" [ArgbModel]="colorManager.csm.primaryText" (argbChange)="colorManager.csm.primaryText = $event"></app-color-picker>
                    <app-color-picker [label]="'Secondary Text'" [ArgbModel]="colorManager.csm.secondaryText" (argbChange)="colorManager.csm.secondaryText = $event"></app-color-picker>
                    <app-color-picker [label]="'Scrollbar Thumb'" [ArgbModel]="colorManager.csm.scrollbarThumb" (argbChange)="colorManager.csm.scrollbarThumb = $event"></app-color-picker>
                    <app-color-picker [label]="'Scrollbar Thumb Hover'" [ArgbModel]="colorManager.csm.scrollbarThumbHover" (argbChange)="colorManager.csm.scrollbarThumbHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Scrollbar Track'" [ArgbModel]="colorManager.csm.scrollbarTrack" (argbChange)="colorManager.csm.scrollbarTrack = $event"></app-color-picker>
                    
                    <app-color-picker [label]="'Button Text'" [ArgbModel]="colorManager.csm.buttonText" (argbChange)="colorManager.csm.buttonText = $event"></app-color-picker>
                    <app-color-picker [label]="'Input Bg'" [ArgbModel]="colorManager.csm.inputBackground" (argbChange)="colorManager.csm.inputBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Input Text'" [ArgbModel]="colorManager.csm.inputText" (argbChange)="colorManager.csm.inputText = $event"></app-color-picker>
                  </div>
                    <app-color-picker [label]="'Input Placeholder'" [ArgbModel]="colorManager.csm.inputPlaceholder" (argbChange)="colorManager.csm.inputPlaceholder = $event"></app-color-picker>
                    <app-color-picker class="mt-4 mr-4" [label]="'Gradient Btn'" [GradientArgbModel]="colorManager.csm.gradientButton" (gradientArgbChange)="colorManager.csm.gradientButton = $event"></app-color-picker>
                    <app-color-picker class="mt-4 mr-4" [label]="'Gradient Btn Hover'" [GradientArgbModel]="colorManager.csm.gradientButtonHover" (gradientArgbChange)="colorManager.csm.gradientButtonHover = $event"></app-color-picker>
                    <app-color-picker class="mt-4 mr-4" [label]="'Menu Gradient Border'" [GradientArgbModel]="colorManager.csm.menuGradientBorder" (gradientArgbChange)="colorManager.csm.menuGradientBorder = $event"></app-color-picker>
                </div>
              </div>

              <!-- Menu UI colors -->
              <div class="bg-white/10 p-2 rounded-lg">
                <button
                  class="flex items-center w-full text-left gap-2 text-gray-300 text-lg font-bold p-4 hover:bg-white/20 rounded transition"
                  (click)="showMenuUiColors = !showMenuUiColors"
                  type="button"
                >
                  <span>Menu UI colors</span>
                  <svg [ngClass]="{'rotate-90': showMenuUiColors, 'rotate-0': !showMenuUiColors}" class="transition-transform w-5 h-5 ml-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div *ngIf="showMenuUiColors">
                  <div class="relative mt-10">
                    <div class="scale-100 inline-block pointer-events-none w-full">
                      <app-menu-ui class=""></app-menu-ui>
                    </div>
                    <div class="absolute inset-0 pointer-events-auto"></div>
                  </div>
                  <div class="grid grid-cols-2 gap-4 p-4 mt-20">
                    <app-color-picker [label]="'Menu Btn Bg'" [ArgbModel]="colorManager.csm.menuButtonBackground" (argbChange)="colorManager.csm.menuButtonBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Menu Btn Bg Hover'" [ArgbModel]="colorManager.csm.menuButtonBackgroundHover" (argbChange)="colorManager.csm.menuButtonBackgroundHover = $event"></app-color-picker>

                    <app-color-picker [label]="'Menu Btn Icon Hover'" [ArgbModel]="colorManager.csm.menuButtonIconHover" (argbChange)="colorManager.csm.menuButtonIconHover = $event"></app-color-picker>
                    
                    <app-color-picker [label]="'Dropdown Bg'" [ArgbModel]="colorManager.csm.menuDropdownBackground" (argbChange)="colorManager.csm.menuDropdownBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Dropdown Shadow'" [ArgbModel]="colorManager.csm.menuDropdownShadow" (argbChange)="colorManager.csm.menuDropdownShadow = $event"></app-color-picker>
                    <app-color-picker [label]="'Dropdown Item Hover'" [ArgbModel]="colorManager.csm.menuDropdownItemHoverBackground" (argbChange)="colorManager.csm.menuDropdownItemHoverBackground = $event"></app-color-picker>
                  </div>
                    <app-color-picker class="mt-4 mr-4" [label]="'Menu Btn Gradient Hover'" [GradientArgbModel]="colorManager.csm.menuButtonGradientHover" (gradientArgbChange)="colorManager.csm.menuButtonGradientHover = $event"></app-color-picker>
                    <app-color-picker class="mt-4 mr-4" [label]="'Menu Bar Bg'" [GradientArgbModel]="colorManager.csm.menuBarBackground" (gradientArgbChange)="colorManager.csm.menuBarBackground = $event"></app-color-picker>
                </div>
              </div>

              <!-- Context menu colors -->
              <div class="bg-white/10 p-2 rounded-lg">
                <button
                  class="flex items-center w-full text-left gap-2 text-gray-300 text-lg font-bold p-4 hover:bg-white/20 rounded transition"
                  (click)="showContextMenuColors = !showContextMenuColors"
                  type="button"
                >
                  <span>Context menu colors</span>
                  <svg [ngClass]="{'rotate-90': showContextMenuColors, 'rotate-0': !showContextMenuColors}" class="transition-transform w-5 h-5 ml-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div *ngIf="showContextMenuColors" class="mt-4">
                  <!--tady staticky context menu-->
                  <div class="context-menu-messages-root w-48 backdrop-blur-md" style="pointer-events:auto;box-sizing:border-box;margin:0;padding:0;overflow:hidden;max-width:none;max-height:none;scrollbar-width:none;-ms-overflow-style:none;">
                    <ul class="list-none m-0 p-0">
                      <li class="context-menu-messages-item">
                        <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24" fill="none"><path d="M18 2L22 6M2 22L3.2764 17.3199C3.35968 17.0145 3.40131 16.8619 3.46523 16.7195C3.52199 16.5931 3.59172 16.4729 3.67332 16.3609C3.76521 16.2348 3.87711 16.1229 4.1009 15.8991L14.4343 5.56569C14.6323 5.36768 14.7313 5.26867 14.8455 5.23158C14.9459 5.19895 15.0541 5.19895 15.1545 5.23158C15.2687 5.26867 15.3677 5.36768 15.5657 5.56569L18.4343 8.43431C18.6323 8.63232 18.7313 8.73133 18.7684 8.84549C18.8011 8.94591 18.8011 9.05409 18.7684 9.15451C18.7313 9.26867 18.6323 9.36768 18.4343 9.56569L8.1009 19.8991C7.87711 20.1229 7.76521 20.2348 7.63908 20.3267C7.52709 20.4083 7.40692 20.478 7.28052 20.5348C7.13815 20.5987 6.98548 20.6403 6.68014 20.7236L2 22Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                        Upravit
                      </li>
                      <li class="context-menu-messages-item context-menu-messages-item-danger">
                        <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24" fill="none"><path d="M9 3H15M3 6H21M19 6L18.2987 16.5193C18.1935 18.0975 18.1409 18.8867 17.8 19.485C17.4999 20.0118 17.0472 20.4353 16.5017 20.6997C15.882 21 15.0911 21 13.5093 21H10.4907C8.90891 21 8.11803 21 7.49834 20.6997C6.95276 20.4353 6.50009 20.0118 6.19998 19.485C5.85911 18.8867 5.8065 18.0975 5.70129 16.5193L5 6M10 10.5V15.5M14 10.5V15.5" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                        Smazat
                      </li>
                      <li class="context-menu-messages-item">
                        <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24" fill="none"><path d="M9 14L4 9M4 9L9 4M4 9H10.4C13.7603 9 15.4405 9 16.7239 9.65396C17.8529 10.2292 18.7708 11.1471 19.346 12.2761C20 13.5595 20 15.2397 20 18.6V20" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                        Odpovědět
                      </li>
                      <li class="context-menu-messages-item">
                        <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24" fill="none"><path d="M15 9H15.01M9 9H9.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM15.5 9C15.5 9.27614 15.2761 9.5 15 9.5C14.7239 9.5 14.5 9.27614 14.5 9C14.5 8.72386 14.7239 8.5 15 8.5C15.2761 8.5 15.5 8.72386 15.5 9ZM9.5 9C9.5 9.27614 9.27614 9.5 9 9.5C8.72386 9.5 8.5 9.27614 8.5 9C8.5 8.72386 8.72386 8.5 9 8.5C9.27614 8.5 9.5 8.72386 9.5 9ZM12 17.5C14.5005 17.5 16.5 15.667 16.5 14H7.5C7.5 15.667 9.4995 17.5 12 17.5Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                        Reagovat
                      </li>
                      <li class="context-menu-messages-item">
                        <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24" fill="none"><path d="M5 15C4.06812 15 3.60218 15 3.23463 14.8478C2.74458 14.6448 2.35523 14.2554 2.15224 13.7654C2 13.3978 2 12.9319 2 12V5.2C2 4.0799 2 3.51984 2.21799 3.09202C2.40973 2.71569 2.71569 2.40973 3.09202 2.21799C3.51984 2 4.0799 2 5.2 2H12C12.9319 2 13.3978 2 13.7654 2.15224C14.2554 2.35523 14.6448 2.74458 14.8478 3.23463C15 3.60218 15 4.06812 15 5M12.2 22H18.8C19.9201 22 20.4802 22 20.908 21.782C21.2843 21.5903 21.5903 21.2843 21.782 20.908C22 20.4802 22 19.9201 22 18.8V12.2C22 11.0799 22 10.5198 21.782 10.092C21.5903 9.71569 21.2843 9.40973 20.908 9.21799C20.4802 9 19.9201 9 18.8 9H12.2C11.0799 9 10.5198 9 10.092 9.21799C9.71569 9.40973 9.40973 9.71569 9.21799 10.092C9 10.5198 9 11.0799 9 12.2V18.8C9 19.9201 9 20.4802 9.21799 20.908C9.40973 21.2843 9.71569 21.5903 10.092 21.782C10.5198 22 11.0799 22 12.2 22Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                        Kopírovat
                      </li>
                    </ul>
                  </div>
                  <div class="grid grid-cols-2 gap-4 p-4">
                    <!-- ARGB barvy -->
                    <app-color-picker [label]="'Action Bg'" [ArgbModel]="colorManager.csm.menuActionBackground" (argbChange)="colorManager.csm.menuActionBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Menu Shadow'" [ArgbModel]="colorManager.csm.menuShadow" (argbChange)="colorManager.csm.menuShadow = $event"></app-color-picker>
                    <app-color-picker [label]="'Action Text'" [ArgbModel]="colorManager.csm.menuActionText" (argbChange)="colorManager.csm.menuActionText = $event"></app-color-picker>
                    <app-color-picker [label]="'Action Bg Hover'" [ArgbModel]="colorManager.csm.menuActionBackgroundHover" (argbChange)="colorManager.csm.menuActionBackgroundHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Action Icon Hover'" [ArgbModel]="colorManager.csm.menuActionIconHover" (argbChange)="colorManager.csm.menuActionIconHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Action Disabled Text'" [ArgbModel]="colorManager.csm.menuActionDisabledText" (argbChange)="colorManager.csm.menuActionDisabledText = $event"></app-color-picker>
                    <app-color-picker [label]="'Delete Text'" [ArgbModel]="colorManager.csm.menuDeleteText" (argbChange)="colorManager.csm.menuDeleteText = $event"></app-color-picker>
                    <app-color-picker [label]="'Delete Bg'" [ArgbModel]="colorManager.csm.menuDeleteBackground" (argbChange)="colorManager.csm.menuDeleteBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Delete Bg Hover'" [ArgbModel]="colorManager.csm.menuDeleteBackgroundHover" (argbChange)="colorManager.csm.menuDeleteBackgroundHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Delete Icon'" [ArgbModel]="colorManager.csm.menuDeleteIcon" (argbChange)="colorManager.csm.menuDeleteIcon = $event"></app-color-picker>
                    <app-color-picker [label]="'Delete Icon Hover'" [ArgbModel]="colorManager.csm.menuDeleteIconHover" (argbChange)="colorManager.csm.menuDeleteIconHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Action Icon'" [ArgbModel]="colorManager.csm.menuActionIcon" (argbChange)="colorManager.csm.menuActionIcon = $event"></app-color-picker>
                    <app-color-picker [label]="'Action Icon Hover'" [ArgbModel]="colorManager.csm.menuActionIconHover" (argbChange)="colorManager.csm.menuActionIconHover = $event"></app-color-picker>
                  </div>
                </div>
              </div>

              <!-- Popup colors -->
              <div class="bg-white/10 p-2 rounded-lg">
                <button
                  class="flex items-center w-full text-left gap-2 text-gray-300 text-lg font-bold p-4 hover:bg-white/20 rounded transition"
                  (click)="showColorBasedPopupColors = !showColorBasedPopupColors"
                  type="button"
                >
                  <span>popup colors</span>
                  <svg [ngClass]="{'rotate-90': showColorBasedPopupColors, 'rotate-0': !showColorBasedPopupColors}" class="transition-transform w-5 h-5 ml-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div *ngIf="showColorBasedPopupColors" class="mt-4">
                  <div class="mb-6 flex justify-center">
                    <div class="inline-block">
                      <app-color-based-popup></app-color-based-popup>
                    </div>
                  </div>
                  <div class="grid grid-cols-2 gap-4 p-4">
                    <app-color-picker [label]="'Overlay Background'" [ArgbModel]="colorManager.csm.overlayBackground" (argbChange)="colorManager.csm.overlayBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Popup Background'" [ArgbModel]="colorManager.csm.popupBackground" (argbChange)="colorManager.csm.popupBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Popup Border'" [ArgbModel]="colorManager.csm.popupBorder" (argbChange)="colorManager.csm.popupBorder = $event"></app-color-picker>
                    <app-color-picker [label]="'Button Shadow'" [ArgbModel]="colorManager.csm.buttonShadow" (argbChange)="colorManager.csm.buttonShadow = $event"></app-color-picker>
                    <app-color-picker [label]="'Heading Text'" [ArgbModel]="colorManager.csm.headingText" (argbChange)="colorManager.csm.headingText = $event"></app-color-picker>
                    <app-color-picker [label]="'Close Btn Bg'" [ArgbModel]="colorManager.csm.closeButtonBackground" (argbChange)="colorManager.csm.closeButtonBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Close Btn Bg Hover'" [ArgbModel]="colorManager.csm.closeButtonBackgroundHover" (argbChange)="colorManager.csm.closeButtonBackgroundHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Close Btn Icon'" [ArgbModel]="colorManager.csm.closeButtonIcon" (argbChange)="colorManager.csm.closeButtonIcon = $event"></app-color-picker>
                    <app-color-picker [label]="'Input Background'" [ArgbModel]="colorManager.csm.inputBackground" (argbChange)="colorManager.csm.inputBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Input Bg Focus'" [ArgbModel]="colorManager.csm.inputBackgroundFocus" (argbChange)="colorManager.csm.inputBackgroundFocus = $event"></app-color-picker>
                    <app-color-picker [label]="'Input Text'" [ArgbModel]="colorManager.csm.inputText" (argbChange)="colorManager.csm.inputText = $event"></app-color-picker>
                    <app-color-picker [label]="'Input Border'" [ArgbModel]="colorManager.csm.inputBorder" (argbChange)="colorManager.csm.inputBorder = $event"></app-color-picker>
                    <app-color-picker [label]="'Input Border Focus'" [ArgbModel]="colorManager.csm.inputBorderFocus" (argbChange)="colorManager.csm.inputBorderFocus = $event"></app-color-picker>
                    <app-color-picker [label]="'Input Placeholder'" [ArgbModel]="colorManager.csm.inputPlaceholder" (argbChange)="colorManager.csm.inputPlaceholder = $event"></app-color-picker>
                    <app-color-picker [label]="'List Background'" [ArgbModel]="colorManager.csm.listBackground" (argbChange)="colorManager.csm.listBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'List Border'" [ArgbModel]="colorManager.csm.listBorder" (argbChange)="colorManager.csm.listBorder = $event"></app-color-picker>
                    <app-color-picker [label]="'List Divider'" [ArgbModel]="colorManager.csm.listDivider" (argbChange)="colorManager.csm.listDivider = $event"></app-color-picker>
                    <app-color-picker [label]="'Highlight Bg'" [ArgbModel]="colorManager.csm.highlightBackground" (argbChange)="colorManager.csm.highlightBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Primary Text'" [ArgbModel]="colorManager.csm.primaryText" (argbChange)="colorManager.csm.primaryText = $event"></app-color-picker>
                    <app-color-picker [label]="'Secondary Text'" [ArgbModel]="colorManager.csm.secondaryText" (argbChange)="colorManager.csm.secondaryText = $event"></app-color-picker>
                    <app-color-picker [label]="'Muted Text'" [ArgbModel]="colorManager.csm.mutedText" (argbChange)="colorManager.csm.mutedText = $event"></app-color-picker>
                    <app-color-picker [label]="'Button Text'" [ArgbModel]="colorManager.csm.buttonText" (argbChange)="colorManager.csm.buttonText = $event"></app-color-picker>
                    <app-color-picker [label]="'Secondary Btn'" [ArgbModel]="colorManager.csm.secondaryButton" (argbChange)="colorManager.csm.secondaryButton = $event"></app-color-picker>
                    <app-color-picker [label]="'Secondary Btn Hover'" [ArgbModel]="colorManager.csm.secondaryButtonHover" (argbChange)="colorManager.csm.secondaryButtonHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Danger Text'" [ArgbModel]="colorManager.csm.dangerText" (argbChange)="colorManager.csm.dangerText = $event"></app-color-picker>
                    <app-color-picker [label]="'Popup Shadow'" [ArgbModel]="colorManager.csm.popupShadow" (argbChange)="colorManager.csm.popupShadow = $event"></app-color-picker>
                    <app-color-picker [label]="'Card Background'" [ArgbModel]="colorManager.csm.cardBackground" (argbChange)="colorManager.csm.cardBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'List Item Hover'" [ArgbModel]="colorManager.csm.listItemHover" (argbChange)="colorManager.csm.listItemHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Scrollbar Thumb'" [ArgbModel]="colorManager.csm.scrollbarThumb" (argbChange)="colorManager.csm.scrollbarThumb = $event"></app-color-picker>
                    <app-color-picker [label]="'Scrollbar Thumb Hover'" [ArgbModel]="colorManager.csm.scrollbarThumbHover" (argbChange)="colorManager.csm.scrollbarThumbHover = $event"></app-color-picker>
                    <app-color-picker [label]="'Scrollbar Track'" [ArgbModel]="colorManager.csm.scrollbarTrack" (argbChange)="colorManager.csm.scrollbarTrack = $event"></app-color-picker>
                  </div>
                  <app-color-picker class="mt-4 mr-4" [label]="'Gradient Btn'" [GradientArgbModel]="colorManager.csm.gradientButton" (gradientArgbChange)="colorManager.csm.gradientButton = $event"></app-color-picker>
                  <app-color-picker class="mt-4 mr-4" [label]="'Gradient Btn Hover'" [GradientArgbModel]="colorManager.csm.gradientButtonHover" (gradientArgbChange)="colorManager.csm.gradientButtonHover = $event"></app-color-picker>
                  <app-color-picker class="mt-4 mr-4" [label]="'Delete Gradient Btn'" [GradientArgbModel]="colorManager.csm.deleteGradientButton" (gradientArgbChange)="colorManager.csm.deleteGradientButton = $event"></app-color-picker>
                    <app-color-picker class="mt-4 mr-4" [label]="'Delete Gradient Btn Hover'" [GradientArgbModel]="colorManager.csm.deleteGradientButtonHover" (gradientArgbChange)="colorManager.csm.deleteGradientButtonHover = $event"></app-color-picker>
                    <app-color-picker class="mt-4 mr-4 w-full" [label]="'Confirm Gradient Btn Disabled'" [GradientArgbModel]="colorManager.csm.confirmGradientButtonDisabled" (gradientArgbChange)="colorManager.csm.confirmGradientButtonDisabled = $event"></app-color-picker>
                    <app-color-picker class="mt-4 mr-4 w-full" [label]="'Delete Gradient Btn Disabled'" [GradientArgbModel]="colorManager.csm.deleteGradientButtonDisabled" (gradientArgbChange)="colorManager.csm.deleteGradientButtonDisabled = $event"></app-color-picker>
                    <app-color-picker  class="mt-4 mr-4 w-full" [label]="'Confirm Gradient Btn'" [GradientArgbModel]="colorManager.csm.confirmGradientButton" (gradientArgbChange)="colorManager.csm.confirmGradientButton = $event"></app-color-picker>
                    <app-color-picker class="mt-4 mr-4" [label]="'Confirm Gradient Btn Hover'" [GradientArgbModel]="colorManager.csm.confirmGradientButtonHover" (gradientArgbChange)="colorManager.csm.confirmGradientButtonHover = $event"></app-color-picker>
                </div>
              </div>


              <!-- Reaction counter colors -->
              <div class="bg-white/10 p-2 rounded-lg">
                <button
                  class="flex items-center w-full text-left gap-2 text-gray-300 text-lg font-bold p-4 hover:bg-white/20 rounded transition"
                  (click)="showReactionCounterColors = !showReactionCounterColors"
                  type="button"
                >
                  <span>Reaction counter colors</span>
                  <svg [ngClass]="{'rotate-90': showReactionCounterColors, 'rotate-0': !showReactionCounterColors}" class="transition-transform w-5 h-5 ml-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
                <div *ngIf="showReactionCounterColors" class="mt-4">
                  <div class="mb-6 flex justify-center">
                    <div class="inline-block">
                      <app-reaction-counter [reactionsData]="'👍👍👍😂😂🔥🔥🔥🔥😄😄😄😄😄😄😄❤️❤️❤️❤️❤️❤️❤️'"></app-reaction-counter>
                    </div>
                  </div>
                  <div class="grid grid-cols-2 gap-4 p-4">
                    <app-color-picker [label]="'Counter Bg'" [ArgbModel]="colorManager.csm.reactionCounterBackground" (argbChange)="colorManager.csm.reactionCounterBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Counter Text'" [ArgbModel]="colorManager.csm.reactionCounterText" (argbChange)="colorManager.csm.reactionCounterText = $event"></app-color-picker>
                    <app-color-picker [label]="'Popup Bg'" [ArgbModel]="colorManager.csm.reactionPopupBackground" (argbChange)="colorManager.csm.reactionPopupBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Popup Item Bg'" [ArgbModel]="colorManager.csm.reactionPopupItemBackground" (argbChange)="colorManager.csm.reactionPopupItemBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Popup Item Hover'" [ArgbModel]="colorManager.csm.reactionPopupItemHoverBackground" (argbChange)="colorManager.csm.reactionPopupItemHoverBackground = $event"></app-color-picker>
                    <app-color-picker [label]="'Popup Item Text'" [ArgbModel]="colorManager.csm.reactionPopupItemText" (argbChange)="colorManager.csm.reactionPopupItemText = $event"></app-color-picker>
                    <app-color-picker [label]="'Popup Shadow'" [ArgbModel]="colorManager.csm.reactionPopupShadow" (argbChange)="colorManager.csm.reactionPopupShadow = $event"></app-color-picker>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
</div>
    
 

<app-are-you-sure-pop-up *ngIf="showAreYouSure"></app-are-you-sure-pop-up>
<app-are-you-sure-pop-up *ngIf="showResetColorsPopup"></app-are-you-sure-pop-up>